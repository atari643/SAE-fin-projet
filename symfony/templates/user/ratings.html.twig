{% extends './utils/paging.html.twig' %}

{% block title %}Ratings{% endblock %}

{% block body %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <h1>Followed series</h1>

    
    <table style="-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;">
        <tbody>
            {% for comment in pagination %}
                <tr>
                    <td><a href="{{path('series_reviews_by_user',{username: comment.user.name})}}"><img src="https://ui-avatars.com/api/?name={{ comment.user.name }}&background=random&rounded=true" style="display: inline;"></a>{{comment.user.name}}</td>
                    <td>{{ comment.value }}</td>
                    <td> {{ comment.comment }}</td>

                    <td>
                        {% set diff = date().diff(comment.date) %}
                        {% if diff.y > 0 %}
                            Publié il y a {{ diff.y }} an(s)
                        {% elseif diff.m > 0 %}
                            Publié il y a {{ diff.m }} mois
                        {% elseif diff.d > 0 %}
                            Publié il y a {{ diff.d }} jour(s)
                        {% elseif diff.h > 0 %}
                            Publié il y a {{ diff.h }} heure(s)
                        {% else %}
                            Publié il y a {{ diff.i }} minute(s)
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
